<div>
  <div class="panel panel-custom m10">
    <div id="opt0" style="height: 600px;" class="border-div"></div>
  </div>
  <div class="row">
    <div class="col-md-3 col-sm-12 p0 p10">
      <div class="panel panel-custom">
        <div class="requ-info border-div">
          <i class="icon-info pos0"></i>
          <h4 class="h4-t1">当前在线用户人数</h4>
          <h4 class="h4-t2">22,000</h4>
          <div id="opt1" class="opt h200 ">
            <!--这里放的是图表-->
          </div>
          <i class="icon-opt1 icon-opt"></i>
        </div>

      </div>
    </div>
    <div class="col-md-3 col-sm-12 p0 p10">
      <div class="panel panel-custom">
        <div class="requ-info border-div">
          <i class="icon-info pos0"></i>
          <h4 class="h4-t1">在线AP数</h4>
          <h4 class="h4-t2">120</h4>
          <div id="opt2" class="opt h200 ">
            <!--这里放的是图表-->
          </div>
          <i class="icon-opt2 icon-opt"></i>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-12 p0 p10">
      <div class="panel panel-custom">
        <div class="requ-info border-div">
          <i class="icon-info pos0"></i>
          <h4 class="h4-t1">当前人数最多</h4>
          <div class="w-50">
            <h4 class="h4-t2 m0">6</h4><span>号楼</span>
          </div>
          <div class="w-50">
            <h4 class="h4-t2 m0">333</h4><span>人</span>
          </div>
          <div id="opt3" class="opt h200 ">
            <!--这里放的是图表-->
          </div>
          <i class="icon-opt3 icon-opt"></i>

        </div>
      </div>

    </div>
    <div class="col-md-3 col-sm-12 p0 p10 p10">
      <div class="panel panel-custom">
        <div class="requ-info border-div">
          <i class="icon-info pos0"></i>
          <h4 class="h4-t1">当前人数最少</h4>
          <div class="w-50">
            <h4 class="h4-t2 m0">1</h4><span>号楼</span>
          </div>
          <div class="w-50">
            <h4 class="h4-t2 m0">111</h4><span>人</span>
          </div>
          <div id="opt4" class="opt h200 ">
            <!--这里放的是图表-->
          </div>
          <i class="icon-opt4 icon-opt"></i>
        </div>
      </div>
    </div>
  </div>
  <div class="row">

    <div class="col-md-6 col-sm-12 p0 p10">
      <div class="panel panel-custom">
        <div class="head-info border-div border-b0">
          <span class="sekuai"></span>
          <h3>终端分布比例</h3>
          <i class="icon-common icon-info"></i>
        </div>
        <div id="opt5" class=" h400 border-div">
          <!--这里放的是图表-->
        </div>
        <i class="icon-text">终端分布</i>
      </div>
    </div>
    <div class="col-md-6 col-sm-12 p0 p10">
      <div class="panel panel-custom">
        <div class="head-info border-div border-b0">
          <span class="sekuai"></span>
          <h3>在线用户统计</h3>
          <i class="icon-common icon-info"></i>
        </div>
        <div id="opt6" class=" h400 border-div  ">
          <!--这里放的是图表-->
        </div>
      </div>
    </div>
  </div>
  <div class="row">

    <div class="col-md-6 col-sm-12 p0 p10">
      <div class="panel panel-custom">
        <div class="head-info border-div border-b0">
          <span class="sekuai"></span>
          <h3>用户上网时长统计</h3>
          <i class="icon-common icon-info"></i>
        </div>
        <div id="opt7" class=" h400 border-div ">
          <!--这里放的是图表-->
        </div>
        <i class="icon-text icon-text2">用户上网<span style="display: block"></span>时长统计</i>

      </div>
    </div>
    <div class="col-md-6 col-sm-12 p0 p10">
      <div class="panel panel-custom">
        <div class="head-info border-div border-b0">
          <span class="sekuai"></span>
          <h3>人数分布统计</h3>
          <i class="icon-common icon-info"></i>
        </div>
        <div id="opt8" class=" h400 border-div">
          <!--这里放的是图表-->
        </div>
      </div>
    </div>
  </div>
</div>
<!--<script>
  var geoCoordMap = {
    "计算机应用研究所": [109.508509, 30.29799],
    "行政楼": [109.507619, 30.298115],
    "林业应用技术研究院": [109.507961, 30.298754],
    "教学楼三": [109.509443, 30.299019],
    "文瀚楼": [109.507548, 30.299081],
    "科技学院-图书馆": [109.508338, 30.300048],
    "图书馆": [109.507305, 30.300321],
    "教学楼二": [109.510207, 30.300944],
    "生物技术研究所": [109.510341, 30.301412],
    "艺术学院-研究所": [109.510431, 30.301903],
    "外国语学院": [109.511653, 30.302129],
    "修远楼": [109.510773, 30.30308],
    "医学院": [109.51115, 30.30379],
    "体育学院": [109.510773, 30.30407],
    "科技学院": [109.510638, 30.304055]
  };

  var convertData = function (data) {
    var res = [];
    for (var i = 0; i < data.length; i++) {
      var geoCoord = geoCoordMap[data[i].name];
      if (geoCoord) {
        res.push(geoCoord.concat(data[i].value));
      }
    }
    return res;
  };

  var option0 = {
//    title: {
//      text: '全国主要城市空气质量',
//      subtext: 'data from PM25.in',
//      sublink: 'http://www.pm25.in',
//      left: 'center',
//      textStyle: {
//        color: '#fff'
//      }
//    },
    backgroundColor: '#404a59',
    visualMap: {
      min: 0,
      max: 500,
      splitNumber: 5,
      inRange: {
        color: ['#d94e5d', '#eac736', '#50a3ba'].reverse()
      },
      textStyle: {
        color: '#fff'
      }
    },
    geo: {
      map: 'china',
      label: {
        emphasis: {
          show: false
        }
      },
      roam: true,
      itemStyle: {
        normal: {
          areaColor: '#323c48',
          borderColor: '#111'
        },
        emphasis: {
          areaColor: '#2a333d'
        }
      }
    },
    series: [{
      name: 'AQI',
      type: 'heatmap',
      coordinateSystem: 'geo',
      data: convertData([
        {name: "计算机应用研究所", value: 109},
        {name: "行政楼", value: 10},
        {name: "林业应用技术研究院", value: 195},
        {name: "教学楼三", value: 285},
        {name: "文瀚楼", value: 450},
        {name: "科技学院-图书馆", value: 285},
        {name: "图书馆", value: 200},
        {name: "教学楼二", value: 80},
        {name: "生物技术研究所", value: 230},
        {name: "艺术学院-研究所", value: 485},
        {name: "外国语学院", value: 365},
        {name: "修远楼", value: 260},
        {name: "医学院", value: 60},
        {name: "体育学院", value: 432},
        {name: "科技学院", value: 154}
      ])
    }]
  };
</script>-->
<script>
  var map = new BMap.Map("opt0");          // 创建地图实例
  var point = new BMap.Point(109.510207, 30.300944);
  map.centerAndZoom(point, 17);             // 初始化地图，设置中心点坐标和地图级别
  map.enableScrollWheelZoom(); // 允许滚轮缩放
  var geoCoordMap = {
    "计算机应用研究所": [109.508509, 30.29799],
    "计算机应用研究所1": [109.508529, 30.29791],
    "计算机应用研究所2": [109.508529, 30.29790],
    "计算机应用研究所3": [109.508509, 30.29795],
    "行政楼": [109.507619, 30.298115],
    "林业应用技术研究院": [109.507961, 30.298754],
    "教学楼三": [109.509443, 30.299019],
    "文瀚楼": [109.507548, 30.299081],
    "科技学院-图书馆": [109.508338, 30.300048],
    "图书馆": [109.507305, 30.300321],
    "教学楼二": [109.510207, 30.300944],
    "生物技术研究所": [109.510341, 30.301412],
    "艺术学院-研究所": [109.510431, 30.301903],
    "外国语学院": [109.511653, 30.302129],
    "修远楼": [109.510773, 30.30308],
    "医学院": [109.51115, 30.30379],
    "体育学院": [109.510773, 30.30407],
    "科技学院": [109.510638, 30.304055],
  };
  var points=[];
  for (var key in geoCoordMap){
    var v=geoCoordMap[key]
    points.push({"lng":geoCoordMap[key][0],"lat":geoCoordMap[key][1],'count':parseInt(Math.random(2,85)*100)});

  }

  if(!isSupportCanvas()){
    alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
  }
  //详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
  //参数说明如下:
  /* visible 热力图是否显示,默认为true
   * opacity 热力的透明度,1-100
   * radius 势力图的每个点的半径大小
   * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
   *	{
   .2:'rgb(0, 255, 255)',
   .5:'rgb(0, 110, 255)',
   .8:'rgb(100, 0, 255)'
   }
   其中 key 表示插值的位置, 0~1.
   value 为颜色值.
   */
  heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":20});
  map.addOverlay(heatmapOverlay);
  heatmapOverlay.setDataSet({data:points,max:100});
  //是否显示热力图
  function openHeatmap(){
    heatmapOverlay.show();
  }

  function closeHeatmap(){
    heatmapOverlay.hide();
  }
  closeHeatmap();
  function setGradient(){
    /*格式如下所示:
     {
     0:'rgb(102, 255, 0)',
     .5:'rgb(255, 170, 0)',
     1:'rgb(255, 0, 0)'
     }*/
    var gradient = {};
    var colors = document.querySelectorAll("input[type='color']");
    colors = [].slice.call(colors,0);
    colors.forEach(function(ele){
      gradient[ele.getAttribute("data-key")] = ele.value;
    });
    heatmapOverlay.setOptions({"gradient":gradient});
  }
  //判断浏览区是否支持canvas
  function isSupportCanvas(){
    var elem = document.createElement('canvas');
    return !!(elem.getContext && elem.getContext('2d'));
  }
  map.addEventListener("tilesloaded",heatmapOverlay.show());
</script>
<script>
  //当前在线人数
  var option1 = {
    color: ["#7f7f7f", 'red'],
    tooltip: {
      trigger: 'item',
      formatter: "{a} <br/>{b}: {c} ({d}%)"

    },
    legend: {
      orient: 'vertical',
      x: 'left',
      // data:['当前在线人数','当前离线人数']
    },
    series: [
      {
        name: '在线人数',
        type: 'pie',
        center: ['50%', '45%'],
        radius: ['65%', '80%'],
        avoidLabelOverlap: false,
        label: {
          normal: {
            show: false,
            position: 'center'
          },
          emphasis: {
            show: false,
            textStyle: {
              fontSize: '30',
              fontWeight: 'bold'
            }
          }
        },
        labelLine: {
          normal: {
            show: false
          }
        },
        data: [

          {value: 5862, name: '当前离线人数'}
          , {value: 22200, name: '当前在线人数'}
        ]
      }
    ]
  };
</script>
<script>
  //在线AP数
  var option2 = {
    color: ["#7f7f7f", 'blue'],
    tooltip: {
      trigger: 'item',
      formatter: "{a} <br/>{b}: {c} ({d}%)"

    },
    legend: {
      orient: 'vertical',
      x: 'left',
      // data:['非在线AP数','在线AP数']
    },
    series: [
      {
        name: '在线AP',
        type: 'pie',
        center: ['50%', '45%'],
        radius:  ['65%', '80%'],
        avoidLabelOverlap: false,
        label: {
          normal: {
            show: false,
            position: 'center'
          },
          emphasis: {
            show: false,
            textStyle: {
              fontSize: '30',
              fontWeight: 'bold'
            }
          }
        },
        labelLine: {
          normal: {
            show: false
          }
        },
        data: [
          {value: 38, name: '非在线AP数'}
          , {value: 120, name: '在线AP数'}
        ]
      }
    ]
  };
</script>
<script>
  //当前在线人数最多
  var option3 = {
    color: ["#7f7f7f", 'purple'],
    tooltip: {
      trigger: 'item',
      formatter: "{a} <br/>{b}: {c} ({d}%)"

    },
    legend: {
      orient: 'vertical',
      x: 'left',
      // data:['未在线人数','在线人数']
    },
    series: [
      {
        name: '当前在线人数最多',
        startAngle: '280',
        type: 'pie',
        center: ['50%', '45%'],
        radius:  ['65%', '80%'],
        avoidLabelOverlap: false,
        label: {
          normal: {
            show: false,
            position: 'center'
          },
          emphasis: {
            show: false,
            textStyle: {
              fontSize: '30',
              fontWeight: 'bold'
            }
          }
        },
        labelLine: {
          normal: {
            show: false
          }
        },
        data: [
          {value: 226, name: '未在线人数'}
          , {value: 333, name: '在线人数'}
        ]
      }
    ]
  };
</script>
<script>
  //当前在线人数最少
  var option4 = {
    color: ["#7f7f7f", 'green'],
    tooltip: {
      trigger: 'item',
      formatter: "{a} <br/>{b}: {c} ({d}%)"

    },
    legend: {
      orient: 'vertical',
      x: 'left',
      // data:['未在线人数','在线人数']
    },
    series: [
      {
        name: '当前在线人数最多',
        startAngle: '280',
        type: 'pie',
        center: ['50%', '45%'],
        radius: ['65%', '80%'],
        avoidLabelOverlap: false,
        label: {
          normal: {
            show: false,
            position: 'center'
          },
          emphasis: {
            show: false,
            textStyle: {
              fontSize: '30',
              fontWeight: 'bold'
            }
          }
        },
        labelLine: {
          normal: {
            show: false
          }
        },
        data: [
          {value: 226, name: '未在线人数'}
          , {value: 111, name: '在线人数'}
        ]
      }
    ]
  };
</script>
<script>
  //终端分布比例
  var option5 = {
    color: ['orange', 'dodgerblue', 'blue', 'green', 'pink'],
    tooltip: {
      trigger: 'item',
      formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
      // show:false,
      orient: 'vertical',
      // x: 'right',
      // y:'bottom',
      x: '85%',
      y2: '5%',
      data: ["windows", "mac", "其他", "iphone", "ipad"]
    },
    series: [
      {
        name: '终端分布比例',
        // startAngle:90,
        type: 'pie',
        radius: ['50%', '80%'],
        avoidLabelOverlap: false,
        label: {

          normal: {
            textStyle: {
              color: 'black'
            }
          }
        },
        labelLine: {
          normal: {
            lineStyle: {
              color: 'rgba(0,0,0,0.8)'
            },
            smooth: 0,
            length: 20,
            length2: 60
          }
        },
        data: [
          {value: 1000, name: 'ipad'},
          {value: 1700, name: 'iphone'},
          {value: 1300, name: '其他'},
          {value: 2000, name: 'mac'},
          {value: 4000, name: 'windows'}
        ].reverse()
      }
    ]
  };
</script>
<script>
  //在线人数
  var option6 = {
    // title: {
    //     text: '在线人数'
    // },
    color: ["blue"],
    tooltip: {
      trigger: 'axis'
    },
    legend: {
      // data:['在线人数']
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      containLabel: true
    },
    xAxis: [
      {
        splitLine: {
          lineStyle: {
            color: 'rgba(2,25,55,1)',
            type: 'dotted'
          }
        },
        type: 'category',
        boundaryGap: false,
        data: ['6:00', '8:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00', '24:00',]
      }
    ],
    yAxis: [
      {
        type: 'value'
      }
    ],
    series: [
      {
        name: '在线人数',
        type: 'line',
        stack: '在线数',
        areaStyle: {normal: {}},
        data: [1200, 1320, 3200, 2258, 1190, 2230, 2910, 160, 1860, 1650, 1250]
      },

    ]
  };
</script>
<script>
  //上网时长统计
  var option7 = {
    color: ['orange', 'dodgerblue', 'blue', 'green', 'pink'],
    tooltip: {
      trigger: 'item',
      formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
      // show:false,
      orient: 'vertical',
      // x: 'right',
      // y:'bottom',
      x: '85%',
      y2: '5%',
//      data:["1小时以内",'1-2小时', "2-3小时", "3-5小时", "5小时以上"]
      data: ["1小时以内", "2-3小时", "3-5小时", "5小时以上"]
    },
    series: [
      {
        name: '上网时长统计',
        // startAngle:90,
        type: 'pie',
        radius: ['50%', '80%'],
        avoidLabelOverlap: false,
        label: {

          normal: {
            textStyle: {
              color: 'black'
            }
          }
        },
        labelLine: {
          normal: {
            lineStyle: {
              color: 'rgba(0,0,0,0.8)'
            },
            smooth: 0,
            length: 20,
            length2: 60
          }
        },
        data: [
          {value: 1000, name: '5小时以上'},
          {value: 1500, name: '3-5小时'},
          {value: 4000, name: '2-3小时'},
//          {value:200, name:'1-2小时'},
          {value: 3500, name: '1小时以内'}
        ].reverse()
      }
    ]
  };
</script>
<script>
  var option8 = {
    color: ['purple', 'blue', 'dodgerblue', 'green'],
    tooltip: {
      trigger: 'axis',
      axisPointer: {            // 坐标轴指示器，坐标轴触发有效
        type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
      }
    },
    legend: {
      data: ['大一', '大二', '大三', '大四']
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      containLabel: true
    },
    xAxis: {
      axisTick: {
        show: false,//不显示
        alignWithLabel: true//显示的时候，在x轴的数字正中间

      },
      type: 'value'
    },
    yAxis: {
      axisTick: false,
      type: 'category',
      data: ['信息管理学院', '经济与管理学院', '法学院', '马克思主义学院', '社会学系', '教育科学研究院', '国际教育学院'].reverse()
    },
    series: [
      {
        name: '大一',
        type: 'bar',
        stack: '总量',
        label: {
          normal: {
            show: true,
            position: 'insideRight'
          }
        },
        data: [215, 225, 220, 200, 400, 310, 330]
      },
      {
        name: '大二',
        type: 'bar',
        stack: '总量',
        label: {
          normal: {
            show: true,
            position: 'insideRight'
          }
        },
        data: [305, 325, 320, 300, 300, 310, 430]
      },
      {
        name: '大三',
        type: 'bar',
        stack: '总量',
        label: {
          normal: {
            show: true,
            position: 'insideRight'
          }
        },
        data: [325, 325, 320, 300, 205, 310, 630]
      },
      {
        name: '大四',
        type: 'bar',
        stack: '总量',
        label: {
          normal: {
            show: true,
            position: 'insideRight'
          }
        },
        data: [325, 325, 320, 300, 230, 850, 630]
      },


    ]
  };
</script>
<script>
//    for(var i=0;i<9;i++){
//      var s='option'+i;
//      echarts.init($('#opt'+i)[0]).setOption(s);
//      console.log(s);
//    }



  var myChart1 = echarts.init($('#opt1')[0]);
  var myChart2 = echarts.init($('#opt2')[0]);
  var myChart3 = echarts.init($('#opt3')[0]);
  var myChart4 = echarts.init($('#opt4')[0]);
  var myChart5 = echarts.init($('#opt5')[0]);
  var myChart6 = echarts.init($('#opt6')[0]);
  var myChart7 = echarts.init($('#opt7')[0]);
  var myChart8 = echarts.init($('#opt8')[0]);

  myChart1.setOption(option1);
  myChart2.setOption(option2);
  myChart3.setOption(option3);
  myChart4.setOption(option4);
  myChart5.setOption(option5);
  myChart6.setOption(option6);
  myChart7.setOption(option7);
  myChart8.setOption(option8);
//
//  var bmap = myChart0.getModel().getComponent('bmap').getBMap();
//  bmap.addControl(new BMap.MapTypeControl());
//  myChart0.setOption(option0);
</script>